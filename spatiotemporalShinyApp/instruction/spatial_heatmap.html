<!DOCTYPE html>
<html>
<body>

<div align="justify">

<p>This is the core functionality. Once a gene is selected in "Data Matrix", its expression profile under each condition across different samples are mapped to matching spatial features in the aSVG and plotted as spatial heatmaps. If multiple genes are selected, the spatial heatmaps are plotting sequentially for each gene. Note, "sample" and "feature" are two equivalent terms referring to cells, tissues, organs <em>etc.</em> where numeric values are measured. Matching means a target sample in data matrix and a target spatial feature in aSVG file have the same identifier, and only matching features are colored in the spatial heatmaps. The subplots of spatial heatmaps are presented in three modes "Image", "Animation", and "video". </p>

<b>Hide legend:</b> Legend panel will be hidden after "Yes" is checked. To hide left menu bar, just click <img src="three_lines.png" width='30'> on the top left corner. <br/> <br/>

<b>Image:</b> All subplots of spaital heatmaps are compiled in the same page, and the dimension, layout, and color key are all customizable. <br/>
<b>Overall width/Overall height</b> Adjust overall width/height of the spatial heatmaps. <br/>
<b>Columns</b> sets a number of columns to organize the subpots. <br/>
<b>Display by</b> If mutliple genes are selected, the spatial heatmaps of each gene are generated sequentially. All plots can be organized by "gene" or "condition" so that it is flexible to compare same gene across different conditions or same condition across different genes.<br/>
<b>Preserve.scale</b> Applies to "Step 2B: upload multiple aSVG files". Preserve the relative dimension of uploaded aSVGs or not. <br/>
<b>Color key:</b> Color scheme: The color ingredients for the color scale, where separaters could be comma, semicolon, single space, dot, hypen, underscore, or forward slash, and backward slash is not allowed. The default is "yellow,orange,red". Color scale based on: The color scale can build on "Selected rows" or "All rows".<br/>
<b>Select tissues to be transparent</b> In multiple-layer aSVGs, if target spatial features are invisible due to overlapping non-target features, the latter can be set transparent so as to expose the former. <br/><br/>

<b>Download: </b> <br/>
<b>File type: </b> The file type to download. Default is "NA", which mean no file is downloaded. <br/>
<b>Resolustion (dpi): </b> The resolution of downloaded file. <br/>
<b>Legend width:</b> The width of legend plot on the download file. If 0, the legend plot will disappear.<br/>
<b>Legend aspect ratio:</b> The width to height ratio of legend plot on the download file.<br/>
<b>Download: </b> Click to download the composite image of spatial heatmaps. <br/>
<br/>

<b>Value legend: </b> <br/>
<b>Add/Remove</b> Click to add or remove the value legend. <br/>
<b>Rows:</b> Total rows of the value legend. <br/>
<b>Key size:</b> The key size of the value legend. <br/>
<b>Text size:</b> The text size of the value legend. <br/>
<b>Include feature:</b> Check "Yes" or "No" to include or remove spatial feature identifiers in the value legend respectively. <br/>
<br/>

<b>Shape outline: </b> <br/>
<b>Line color: </b> The color of shape edges. <br/>
<b>Line size:</b> The thickness of shape edges. <br/>
<br/>

<b>Legend Plot:</b> The legend where spatial features having a matching sample in data are labeled.<br/>
<b>Legend key rows:</b> The number of rows of legend keys in legend plot. It is also applicable to the downloaded image and the video legend keys.<br/>
<b>Legend key size:</b> The size of legend keys (including key text) in legend plot. It is also applicable to the downloaded image and the video legend keys. <br/>
<b>Label feature/Label size:</b> Label target spatial features with identifiers/Adjust label size. <br/>
<br/>

<b>Animation:</b> Each subplot of spatial heatmap is displayed sequentially in an animation. The animation can be played continuously or paused at a frame. Each frame can be zoomed in and out by drawing a rectangle and clicking the "home" icon in the top-right tool bar respectively. When mouse over a shape, the information of gene, condition, shape identifier, and value are displayed.<br/>
<b>Show Animation:</b> The animation is presented after "Yes" is checked.<br/>
<b>Height/Width</b> Adjust frame dimension, which auto-resizes to original aspect ratio. <br/>
<b>Transition time (s)</b> Sets the transition speed in seconds between frames. If the image contains lots of shapes this values should be increased, since it take more time to display complex shapes.<br/>
<b>Download</b> Click to download spatial heatmaps in independent interactive HTML files.<br/>
<br/>

<b>Video:</b> Each subplot of spatial heatmap is compiled in a MP4 video in the order specified in "Basic". Once the video is generated, it is downloadable at the bottom right corner. <br/>
<b>Show Video:</b> The video is generated and presented after "Yes" is checked.<br/>
<b>Height/Width:</b> Adjust frame dimension, which auto-resizes to original aspect ratio. <br/>
<b>Transition time (s):</b> Sets the transition speed in seconds between frames.<br/>
<b>Fixed dimension:</b> Selected video frame dimensions (width by height).<br/>

</div>

</body>
</html>







